<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="coding-validation-dmn"
             name="Medical Coding Validation Rules"
             namespace="http://camunda.org/schema/1.0/dmn">

  <decision id="validateCoding" name="Validate Medical Coding" camunda:historyTimeToLive="P180D">
    <decisionTable id="codingValidationTable" hitPolicy="COLLECT">
      <input id="input1" label="CID-10 Valid">
        <inputExpression id="inputExpression1" typeRef="boolean">
          <text>cid10Valid</text>
        </inputExpression>
      </input>
      <input id="input2" label="TUSS Code Valid">
        <inputExpression id="inputExpression2" typeRef="boolean">
          <text>tussCodeValid</text>
        </inputExpression>
      </input>
      <input id="input3" label="Code Pairing Valid">
        <inputExpression id="inputExpression3" typeRef="boolean">
          <text>codePairingValid</text>
        </inputExpression>
      </input>
      <input id="input4" label="Quantity Appropriate">
        <inputExpression id="inputExpression4" typeRef="boolean">
          <text>quantityAppropriate</text>
        </inputExpression>
      </input>
      <input id="input5" label="Modifiers Correct">
        <inputExpression id="inputExpression5" typeRef="boolean">
          <text>modifiersCorrect</text>
        </inputExpression>
      </input>
      <input id="input6" label="Documentation Match">
        <inputExpression id="inputExpression6" typeRef="boolean">
          <text>documentationMatch</text>
        </inputExpression>
      </input>

      <output id="output1" label="Validation Result" name="validationResult" typeRef="string" />
      <output id="output2" label="Error Type" name="errorType" typeRef="string" />
      <output id="output3" label="Severity" name="severity" typeRef="string" />
      <output id="output4" label="Action Required" name="actionRequired" typeRef="string" />

      <!-- Rule 1: All validations passed -->
      <rule id="rule1">
        <inputEntry id="inputEntry1_1">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry1_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry1_3">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry1_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry1_5">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry1_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry1_1">
          <text>"VALID"</text>
        </outputEntry>
        <outputEntry id="outputEntry1_2">
          <text>"NONE"</text>
        </outputEntry>
        <outputEntry id="outputEntry1_3">
          <text>"INFO"</text>
        </outputEntry>
        <outputEntry id="outputEntry1_4">
          <text>"PROCEED_TO_BILLING"</text>
        </outputEntry>
      </rule>

      <!-- Rule 2: Invalid CID-10 -->
      <rule id="rule2">
        <inputEntry id="inputEntry2_1">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry2_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry2_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry2_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry2_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry2_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry2_1">
          <text>"INVALID"</text>
        </outputEntry>
        <outputEntry id="outputEntry2_2">
          <text>"INVALID_CID10"</text>
        </outputEntry>
        <outputEntry id="outputEntry2_3">
          <text>"ERROR"</text>
        </outputEntry>
        <outputEntry id="outputEntry2_4">
          <text>"CORRECT_CID10_CODE"</text>
        </outputEntry>
      </rule>

      <!-- Rule 3: Invalid TUSS code -->
      <rule id="rule3">
        <inputEntry id="inputEntry3_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry3_2">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry3_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry3_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry3_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry3_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry3_1">
          <text>"INVALID"</text>
        </outputEntry>
        <outputEntry id="outputEntry3_2">
          <text>"INVALID_TUSS_CODE"</text>
        </outputEntry>
        <outputEntry id="outputEntry3_3">
          <text>"ERROR"</text>
        </outputEntry>
        <outputEntry id="outputEntry3_4">
          <text>"CORRECT_TUSS_CODE"</text>
        </outputEntry>
      </rule>

      <!-- Rule 4: Invalid code pairing -->
      <rule id="rule4">
        <inputEntry id="inputEntry4_1">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry4_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry4_3">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry4_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry4_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry4_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry4_1">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry4_2">
          <text>"INCOMPATIBLE_CODE_PAIRING"</text>
        </outputEntry>
        <outputEntry id="outputEntry4_3">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry4_4">
          <text>"REVIEW_CODE_COMBINATION"</text>
        </outputEntry>
      </rule>

      <!-- Rule 5: Inappropriate quantity -->
      <rule id="rule5">
        <inputEntry id="inputEntry5_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry5_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry5_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry5_4">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry5_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry5_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry5_1">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry5_2">
          <text>"QUANTITY_OUT_OF_RANGE"</text>
        </outputEntry>
        <outputEntry id="outputEntry5_3">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry5_4">
          <text>"VERIFY_QUANTITY"</text>
        </outputEntry>
      </rule>

      <!-- Rule 6: Incorrect modifiers -->
      <rule id="rule6">
        <inputEntry id="inputEntry6_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry6_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry6_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry6_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry6_5">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry6_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry6_1">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry6_2">
          <text>"INCORRECT_MODIFIERS"</text>
        </outputEntry>
        <outputEntry id="outputEntry6_3">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry6_4">
          <text>"UPDATE_MODIFIERS"</text>
        </outputEntry>
      </rule>

      <!-- Rule 7: Documentation mismatch -->
      <rule id="rule7">
        <inputEntry id="inputEntry7_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry7_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry7_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry7_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry7_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry7_6">
          <text>false</text>
        </inputEntry>
        <outputEntry id="outputEntry7_1">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry7_2">
          <text>"DOCUMENTATION_MISMATCH"</text>
        </outputEntry>
        <outputEntry id="outputEntry7_3">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry7_4">
          <text>"REVIEW_CLINICAL_DOCUMENTATION"</text>
        </outputEntry>
      </rule>

      <!-- Rule 8: Multiple validation errors -->
      <rule id="rule8">
        <inputEntry id="inputEntry8_1">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry8_2">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry8_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry8_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry8_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry8_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry8_1">
          <text>"INVALID"</text>
        </outputEntry>
        <outputEntry id="outputEntry8_2">
          <text>"MULTIPLE_ERRORS"</text>
        </outputEntry>
        <outputEntry id="outputEntry8_3">
          <text>"ERROR"</text>
        </outputEntry>
        <outputEntry id="outputEntry8_4">
          <text>"COMPREHENSIVE_RECODING_REQUIRED"</text>
        </outputEntry>
      </rule>

      <!-- Rule 9: Valid codes but documentation issues -->
      <rule id="rule9">
        <inputEntry id="inputEntry9_1">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry9_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry9_3">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry9_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry9_5">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry9_6">
          <text>false</text>
        </inputEntry>
        <outputEntry id="outputEntry9_1">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry9_2">
          <text>"DOCS_NOT_SUPPORTING_CODES"</text>
        </outputEntry>
        <outputEntry id="outputEntry9_3">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry9_4">
          <text>"CLINICAL_VALIDATION_REQUIRED"</text>
        </outputEntry>
      </rule>

      <!-- Rule 10: Invalid pairing with incorrect quantity -->
      <rule id="rule10">
        <inputEntry id="inputEntry10_1">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry10_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry10_3">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry10_4">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry10_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry10_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry10_1">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry10_2">
          <text>"PAIRING_AND_QUANTITY_ISSUES"</text>
        </outputEntry>
        <outputEntry id="outputEntry10_3">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry10_4">
          <text>"REVIEW_CODE_LOGIC"</text>
        </outputEntry>
      </rule>

      <!-- Rule 11: Outdated CID-10 code -->
      <rule id="rule11">
        <inputEntry id="inputEntry11_1">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry11_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry11_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry11_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry11_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry11_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry11_1">
          <text>"INVALID"</text>
        </outputEntry>
        <outputEntry id="outputEntry11_2">
          <text>"DEPRECATED_CID10"</text>
        </outputEntry>
        <outputEntry id="outputEntry11_3">
          <text>"ERROR"</text>
        </outputEntry>
        <outputEntry id="outputEntry11_4">
          <text>"UPDATE_TO_CURRENT_CID10"</text>
        </outputEntry>
      </rule>

      <!-- Rule 12: Missing mandatory modifiers -->
      <rule id="rule12">
        <inputEntry id="inputEntry12_1">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry12_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry12_3">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry12_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry12_5">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry12_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry12_1">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry12_2">
          <text>"MISSING_REQUIRED_MODIFIERS"</text>
        </outputEntry>
        <outputEntry id="outputEntry12_3">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry12_4">
          <text>"ADD_MANDATORY_MODIFIERS"</text>
        </outputEntry>
      </rule>

      <!-- Rule 13: DRG classification mismatch -->
      <rule id="rule13">
        <inputEntry id="inputEntry13_1">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry13_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry13_3">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry13_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry13_5">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry13_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry13_1">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry13_2">
          <text>"DRG_CLASSIFICATION_ERROR"</text>
        </outputEntry>
        <outputEntry id="outputEntry13_3">
          <text>"WARNING"</text>
        </outputEntry>
        <outputEntry id="outputEntry13_4">
          <text>"VERIFY_DRG_GROUPING"</text>
        </outputEntry>
      </rule>

      <!-- Rule 14: Unbundling attempt detected -->
      <rule id="rule14">
        <inputEntry id="inputEntry14_1">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry14_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry14_3">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry14_4">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry14_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry14_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry14_1">
          <text>"INVALID"</text>
        </outputEntry>
        <outputEntry id="outputEntry14_2">
          <text>"UNBUNDLING_DETECTED"</text>
        </outputEntry>
        <outputEntry id="outputEntry14_3">
          <text>"ERROR"</text>
        </outputEntry>
        <outputEntry id="outputEntry14_4">
          <text>"USE_BUNDLED_CODE"</text>
        </outputEntry>
      </rule>
    </decisionTable>
  </decision>
</definitions>
