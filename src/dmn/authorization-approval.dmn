<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="authorization-approval-dmn"
             name="Authorization Approval Logic"
             namespace="http://camunda.org/schema/1.0/dmn">

  <decision id="evaluateAuthorization" name="Evaluate Authorization Request" camunda:historyTimeToLive="P180D">
    <decisionTable id="authorizationTable" hitPolicy="FIRST">
      <input id="input1" label="Procedure Complexity">
        <inputExpression id="inputExpression1" typeRef="string">
          <text>procedureComplexity</text>
        </inputExpression>
      </input>
      <input id="input2" label="Estimated Cost">
        <inputExpression id="inputExpression2" typeRef="number">
          <text>estimatedCost</text>
        </inputExpression>
      </input>
      <input id="input3" label="Urgency Level">
        <inputExpression id="inputExpression3" typeRef="string">
          <text>urgencyLevel</text>
        </inputExpression>
      </input>
      <input id="input4" label="Documentation Complete">
        <inputExpression id="inputExpression4" typeRef="boolean">
          <text>documentationComplete</text>
        </inputExpression>
      </input>
      <input id="input5" label="Medical Justification">
        <inputExpression id="inputExpression5" typeRef="string">
          <text>medicalJustification</text>
        </inputExpression>
      </input>
      <input id="input6" label="Prior Authorization Required">
        <inputExpression id="inputExpression6" typeRef="boolean">
          <text>priorAuthRequired</text>
        </inputExpression>
      </input>

      <output id="output1" label="Authorization Decision" name="authDecision" typeRef="string" />
      <output id="output2" label="Priority" name="priority" typeRef="string" />
      <output id="output3" label="SLA Hours" name="slaHours" typeRef="number" />
      <output id="output4" label="Next Action" name="nextAction" typeRef="string" />

      <!-- Rule 1: Emergency - Auto-approve -->
      <rule id="rule1">
        <inputEntry id="inputEntry1_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry1_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry1_3">
          <text>"EMERGENCY"</text>
        </inputEntry>
        <inputEntry id="inputEntry1_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry1_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry1_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry1_1">
          <text>"AUTO_APPROVED"</text>
        </outputEntry>
        <outputEntry id="outputEntry1_2">
          <text>"CRITICAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry1_3">
          <text>1</text>
        </outputEntry>
        <outputEntry id="outputEntry1_4">
          <text>"IMMEDIATE_PROCEDURE"</text>
        </outputEntry>
      </rule>

      <!-- Rule 2: Low complexity, low cost, complete docs - Auto-approve -->
      <rule id="rule2">
        <inputEntry id="inputEntry2_1">
          <text>"LOW"</text>
        </inputEntry>
        <inputEntry id="inputEntry2_2">
          <text>&lt; 5000</text>
        </inputEntry>
        <inputEntry id="inputEntry2_3">
          <text>"ROUTINE","URGENT"</text>
        </inputEntry>
        <inputEntry id="inputEntry2_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry2_5">
          <text>"ADEQUATE","STRONG"</text>
        </inputEntry>
        <inputEntry id="inputEntry2_6">
          <text>false</text>
        </inputEntry>
        <outputEntry id="outputEntry2_1">
          <text>"AUTO_APPROVED"</text>
        </outputEntry>
        <outputEntry id="outputEntry2_2">
          <text>"LOW"</text>
        </outputEntry>
        <outputEntry id="outputEntry2_3">
          <text>24</text>
        </outputEntry>
        <outputEntry id="outputEntry2_4">
          <text>"PROCEED_TO_SCHEDULING"</text>
        </outputEntry>
      </rule>

      <!-- Rule 3: Medium complexity, moderate cost - Requires review -->
      <rule id="rule3">
        <inputEntry id="inputEntry3_1">
          <text>"MEDIUM"</text>
        </inputEntry>
        <inputEntry id="inputEntry3_2">
          <text>&gt;= 5000, &lt; 20000</text>
        </inputEntry>
        <inputEntry id="inputEntry3_3">
          <text>"URGENT"</text>
        </inputEntry>
        <inputEntry id="inputEntry3_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry3_5">
          <text>"ADEQUATE","STRONG"</text>
        </inputEntry>
        <inputEntry id="inputEntry3_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry3_1">
          <text>"PENDING_REVIEW"</text>
        </outputEntry>
        <outputEntry id="outputEntry3_2">
          <text>"HIGH"</text>
        </outputEntry>
        <outputEntry id="outputEntry3_3">
          <text>8</text>
        </outputEntry>
        <outputEntry id="outputEntry3_4">
          <text>"SUBMIT_TO_INSURANCE"</text>
        </outputEntry>
      </rule>

      <!-- Rule 4: High complexity, high cost - Requires detailed review -->
      <rule id="rule4">
        <inputEntry id="inputEntry4_1">
          <text>"HIGH","CRITICAL"</text>
        </inputEntry>
        <inputEntry id="inputEntry4_2">
          <text>&gt;= 20000</text>
        </inputEntry>
        <inputEntry id="inputEntry4_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry4_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry4_5">
          <text>"ADEQUATE","STRONG"</text>
        </inputEntry>
        <inputEntry id="inputEntry4_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry4_1">
          <text>"PENDING_DETAILED_REVIEW"</text>
        </outputEntry>
        <outputEntry id="outputEntry4_2">
          <text>"HIGH"</text>
        </outputEntry>
        <outputEntry id="outputEntry4_3">
          <text>48</text>
        </outputEntry>
        <outputEntry id="outputEntry4_4">
          <text>"MEDICAL_BOARD_REVIEW"</text>
        </outputEntry>
      </rule>

      <!-- Rule 5: Incomplete documentation -->
      <rule id="rule5">
        <inputEntry id="inputEntry5_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry5_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry5_3">
          <text>"ROUTINE","URGENT"</text>
        </inputEntry>
        <inputEntry id="inputEntry5_4">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry5_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry5_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry5_1">
          <text>"PENDING_DOCUMENTATION"</text>
        </outputEntry>
        <outputEntry id="outputEntry5_2">
          <text>"MEDIUM"</text>
        </outputEntry>
        <outputEntry id="outputEntry5_3">
          <text>72</text>
        </outputEntry>
        <outputEntry id="outputEntry5_4">
          <text>"REQUEST_ADDITIONAL_DOCS"</text>
        </outputEntry>
      </rule>

      <!-- Rule 6: Weak medical justification -->
      <rule id="rule6">
        <inputEntry id="inputEntry6_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry6_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry6_3">
          <text>"ROUTINE"</text>
        </inputEntry>
        <inputEntry id="inputEntry6_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry6_5">
          <text>"WEAK","INSUFFICIENT"</text>
        </inputEntry>
        <inputEntry id="inputEntry6_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry6_1">
          <text>"REQUIRES_CLARIFICATION"</text>
        </outputEntry>
        <outputEntry id="outputEntry6_2">
          <text>"MEDIUM"</text>
        </outputEntry>
        <outputEntry id="outputEntry6_3">
          <text>48</text>
        </outputEntry>
        <outputEntry id="outputEntry6_4">
          <text>"REQUEST_MEDICAL_JUSTIFICATION"</text>
        </outputEntry>
      </rule>

      <!-- Rule 7: Routine procedure, complete docs -->
      <rule id="rule7">
        <inputEntry id="inputEntry7_1">
          <text>"LOW"</text>
        </inputEntry>
        <inputEntry id="inputEntry7_2">
          <text>&lt; 10000</text>
        </inputEntry>
        <inputEntry id="inputEntry7_3">
          <text>"ROUTINE"</text>
        </inputEntry>
        <inputEntry id="inputEntry7_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry7_5">
          <text>"ADEQUATE","STRONG"</text>
        </inputEntry>
        <inputEntry id="inputEntry7_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry7_1">
          <text>"PENDING_REVIEW"</text>
        </outputEntry>
        <outputEntry id="outputEntry7_2">
          <text>"LOW"</text>
        </outputEntry>
        <outputEntry id="outputEntry7_3">
          <text>72</text>
        </outputEntry>
        <outputEntry id="outputEntry7_4">
          <text>"STANDARD_REVIEW_PROCESS"</text>
        </outputEntry>
      </rule>

      <!-- Rule 8: Experimental or investigational procedures -->
      <rule id="rule8">
        <inputEntry id="inputEntry8_1">
          <text>"EXPERIMENTAL"</text>
        </inputEntry>
        <inputEntry id="inputEntry8_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry8_3">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry8_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry8_5">
          <text>"STRONG"</text>
        </inputEntry>
        <inputEntry id="inputEntry8_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry8_1">
          <text>"PENDING_COMMITTEE_REVIEW"</text>
        </outputEntry>
        <outputEntry id="outputEntry8_2">
          <text>"CRITICAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry8_3">
          <text>120</text>
        </outputEntry>
        <outputEntry id="outputEntry8_4">
          <text>"ETHICS_COMMITTEE_REVIEW"</text>
        </outputEntry>
      </rule>

      <!-- Rule 9: Medium complexity, urgent, moderate cost -->
      <rule id="rule9">
        <inputEntry id="inputEntry9_1">
          <text>"MEDIUM"</text>
        </inputEntry>
        <inputEntry id="inputEntry9_2">
          <text>[10000..15000]</text>
        </inputEntry>
        <inputEntry id="inputEntry9_3">
          <text>"URGENT"</text>
        </inputEntry>
        <inputEntry id="inputEntry9_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry9_5">
          <text>"STRONG"</text>
        </inputEntry>
        <inputEntry id="inputEntry9_6">
          <text>false</text>
        </inputEntry>
        <outputEntry id="outputEntry9_1">
          <text>"EXPEDITED_AUTO_APPROVAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry9_2">
          <text>"MEDIUM"</text>
        </outputEntry>
        <outputEntry id="outputEntry9_3">
          <text>12</text>
        </outputEntry>
        <outputEntry id="outputEntry9_4">
          <text>"FAST_TRACK_APPROVAL"</text>
        </outputEntry>
      </rule>

      <!-- Rule 10: Incomplete docs for emergency cases -->
      <rule id="rule10">
        <inputEntry id="inputEntry10_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry10_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry10_3">
          <text>"EMERGENCY"</text>
        </inputEntry>
        <inputEntry id="inputEntry10_4">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry10_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry10_6">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry10_1">
          <text>"CONDITIONAL_APPROVAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry10_2">
          <text>"CRITICAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry10_3">
          <text>2</text>
        </outputEntry>
        <outputEntry id="outputEntry10_4">
          <text>"RETROACTIVE_DOCUMENTATION"</text>
        </outputEntry>
      </rule>

      <!-- Rule 11: Low cost, no prior auth required -->
      <rule id="rule11">
        <inputEntry id="inputEntry11_1">
          <text>"LOW"</text>
        </inputEntry>
        <inputEntry id="inputEntry11_2">
          <text>&lt; 2000</text>
        </inputEntry>
        <inputEntry id="inputEntry11_3">
          <text>"ROUTINE"</text>
        </inputEntry>
        <inputEntry id="inputEntry11_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry11_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry11_6">
          <text>false</text>
        </inputEntry>
        <outputEntry id="outputEntry11_1">
          <text>"INSTANT_APPROVAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry11_2">
          <text>"LOW"</text>
        </outputEntry>
        <outputEntry id="outputEntry11_3">
          <text>2</text>
        </outputEntry>
        <outputEntry id="outputEntry11_4">
          <text>"IMMEDIATE_SCHEDULING"</text>
        </outputEntry>
      </rule>

      <!-- Rule 12: High complexity, emergency, high cost -->
      <rule id="rule12">
        <inputEntry id="inputEntry12_1">
          <text>"HIGH","CRITICAL"</text>
        </inputEntry>
        <inputEntry id="inputEntry12_2">
          <text>&gt;= 50000</text>
        </inputEntry>
        <inputEntry id="inputEntry12_3">
          <text>"EMERGENCY"</text>
        </inputEntry>
        <inputEntry id="inputEntry12_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry12_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry12_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry12_1">
          <text>"EMERGENCY_AUTO_APPROVED"</text>
        </outputEntry>
        <outputEntry id="outputEntry12_2">
          <text>"CRITICAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry12_3">
          <text>1</text>
        </outputEntry>
        <outputEntry id="outputEntry12_4">
          <text>"EXECUTIVE_NOTIFICATION"</text>
        </outputEntry>
      </rule>

      <!-- Rule 13: Routine elective surgery with strong justification -->
      <rule id="rule13">
        <inputEntry id="inputEntry13_1">
          <text>"MEDIUM"</text>
        </inputEntry>
        <inputEntry id="inputEntry13_2">
          <text>[5000..10000]</text>
        </inputEntry>
        <inputEntry id="inputEntry13_3">
          <text>"ELECTIVE"</text>
        </inputEntry>
        <inputEntry id="inputEntry13_4">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry13_5">
          <text>"STRONG"</text>
        </inputEntry>
        <inputEntry id="inputEntry13_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry13_1">
          <text>"AUTO_APPROVED"</text>
        </outputEntry>
        <outputEntry id="outputEntry13_2">
          <text>"MEDIUM"</text>
        </outputEntry>
        <outputEntry id="outputEntry13_3">
          <text>48</text>
        </outputEntry>
        <outputEntry id="outputEntry13_4">
          <text>"SCHEDULE_AT_CONVENIENCE"</text>
        </outputEntry>
      </rule>

      <!-- Rule 14: Prior auth required but missing -->
      <rule id="rule14">
        <inputEntry id="inputEntry14_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry14_2">
          <text>&gt; 3000</text>
        </inputEntry>
        <inputEntry id="inputEntry14_3">
          <text>"ROUTINE","URGENT"</text>
        </inputEntry>
        <inputEntry id="inputEntry14_4">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry14_5">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry14_6">
          <text>true</text>
        </inputEntry>
        <outputEntry id="outputEntry14_1">
          <text>"REJECTED"</text>
        </outputEntry>
        <outputEntry id="outputEntry14_2">
          <text>"HIGH"</text>
        </outputEntry>
        <outputEntry id="outputEntry14_3">
          <text>0</text>
        </outputEntry>
        <outputEntry id="outputEntry14_4">
          <text>"OBTAIN_PRIOR_AUTH"</text>
        </outputEntry>
      </rule>
    </decisionTable>
  </decision>
</definitions>
